var d=()=>new Proxy(Object.assign(()=>"",{}),{get:(n,t)=>t==="length"?0:d()});var k=n=>Object.fromEntries(Object.entries(n).map(([t,e])=>t!=="i"&&e&&e!="0"&&[t,e]).filter(Boolean)),S=n=>Object.fromEntries(Object.keys(n).map(t=>{let e=n[t];return[t,Array.isArray(e)?e.map(s=>s==null?void 0:s.trim()):e===!!e?e:e==null?void 0:e.trim()]})),$=n=>{let[t="",...e]=n.split("|"),[s="",r]=t.split(":"),[a,i]=s.split("?");return{k:a,i:r,n:i==="",f:e}},x=n=>!!(n.o||n.r),C=(n,t)=>{let[e,s]=n.split(":");s||(s=e,e=t);let r=s.split("|"),[a,i,o,l,c,p]=r,T=r.filter(g=>g!==void 0).length;return T===1?{k:e,r:a}:T===2?{k:e,o:a,r:i}:T===3?{k:e,z:a,o:i,r:o}:{k:e,z:a,o:i,t:o,f:l,m:c,r:p}},P=/^\{.*\}$/,f=n=>Object.fromEntries(y(n).split(",").map(t=>t.split(":")).reduce((t,e)=>e.length===2?[...t,e.map(s=>s.trim())]:(t[t.length-1][1]+=","+e[0],t),[])),m=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,y=n=>n.substring(1,n.length-1),B=(n,t=!0,e="",s="")=>n.split(m).map(r=>{if(!r.match(m))return r;let a=y(r);if(a.startsWith("{"))return C(y(a),s);let i=$(a);return s=i.k||s,!e&&(e=s),i}).map(r=>{if(typeof r=="string")return r;r.k||(r.k=e||"0");let a=S(r);return t?k(a):a});var w=(n,t,e)=>t.reduce((s,r)=>{var a,i;return(i=r.match(P)?(o=>{var l;return(l=o[s])!=null?l:o["*"]})(f(r)):(a=n[r])==null?void 0:a.call(n,s))!=null?i:s},e),j=(n,{z:t,o:e,t:s,f:r,m:a,r:i},o)=>{switch(t&&o==0?"zero":n.select(o)){case"zero":return t;case"one":return e;case"two":return s;case"few":return r;case"many":return a;default:return i}},D=/\?\?/g,E=(n,t,e,s)=>n.map(r=>{if(typeof r=="string")return r;let{k:a="0",f:i=[]}=r,o=s[a];if(x(r))return((typeof o=="boolean"?o?r.o:r.r:j(t,r,o))||"").replace(D,o);let l=i.length?w(e,i,o):o;return(""+(l!=null?l:"")).trim()}).join(""),u=(n,t,e,s)=>{let r=s[0],a=r&&typeof r=="object"&&r.constructor===Object,i=s.length===1&&a?r:s;return E(n,t,e,i)};var F=(n,t)=>n[t]||(n[t]=B(t));var I=(n,t)=>{let e={},s=new Intl.PluralRules(n);return(r,...a)=>u(F(e,r),s,t,a)};function L(n,t,e={}){return b(t,I(n,e))}var A=(n={},t)=>typeof n=="string"?t.bind(null,n):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),n),b=(n,t)=>new Proxy(A(n,t),{get:(e,s)=>s===Symbol.iterator?[][Symbol.iterator].bind(Object.values(e).map(r=>A(r,t))):b(e[s],t)});var R=n=>new Proxy(n,{get:(t,e)=>!(typeof e!="string"||e.startsWith("__v_"))&&t[e]}),X=(n,t,e,s={})=>{let r=Symbol("typesafe-i18n");return{typesafeI18n:()=>n(r),i18nPlugin:{install:(o,l)=>{let c=t(l),p=t(R(d())),T=g=>{c.value=g,p.value=R(L(g,e[g],s[g]))};T(l),o.provide(r,{locale:c,LL:p,setLocale:T})}}}};export{X as initI18nVuePlugin};
