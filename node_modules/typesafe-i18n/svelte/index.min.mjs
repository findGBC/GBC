import{derived as z,writable as f}from"svelte/store";var c=()=>new Proxy(Object.assign(()=>"",{}),{get:(n,t)=>t==="length"?0:c()});var S=n=>Object.fromEntries(Object.entries(n).map(([t,e])=>t!=="i"&&e&&e!="0"&&[t,e]).filter(Boolean)),k=n=>Object.fromEntries(Object.keys(n).map(t=>{let e=n[t];return[t,Array.isArray(e)?e.map(s=>s==null?void 0:s.trim()):e===!!e?e:e==null?void 0:e.trim()]})),$=n=>{let[t="",...e]=n.split("|"),[s="",r]=t.split(":"),[a,o]=s.split("?");return{k:a,i:r,n:o==="",f:e}},y=n=>!!(n.o||n.r),C=(n,t)=>{let[e,s]=n.split(":");s||(s=e,e=t);let r=s.split("|"),[a,o,i,l,L,b]=r,T=r.filter(R=>R!==void 0).length;return T===1?{k:e,r:a}:T===2?{k:e,o:a,r:o}:T===3?{k:e,z:a,o,r:i}:{k:e,z:a,o,t:i,f:l,m:L,r:b}},m=/^\{.*\}$/,u=n=>Object.fromEntries(g(n).split(",").map(t=>t.split(":")).reduce((t,e)=>e.length===2?[...t,e.map(s=>s.trim())]:(t[t.length-1][1]+=","+e[0],t),[])),d=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,g=n=>n.substring(1,n.length-1),x=(n,t=!0,e="",s="")=>n.split(d).map(r=>{if(!r.match(d))return r;let a=g(r);if(a.startsWith("{"))return C(g(a),s);let o=$(a);return s=o.k||s,!e&&(e=s),o}).map(r=>{if(typeof r=="string")return r;r.k||(r.k=e||"0");let a=k(r);return t?S(a):a});var w=(n,t,e)=>t.reduce((s,r)=>{var a,o;return(o=r.match(m)?(i=>{var l;return(l=i[s])!=null?l:i["*"]})(u(r)):(a=n[r])==null?void 0:a.call(n,s))!=null?o:s},e),j=(n,{z:t,o:e,t:s,f:r,m:a,r:o},i)=>{switch(t&&i==0?"zero":n.select(i)){case"zero":return t;case"one":return e;case"two":return s;case"few":return r;case"many":return a;default:return o}},D=/\?\?/g,E=(n,t,e,s)=>n.map(r=>{if(typeof r=="string")return r;let{k:a="0",f:o=[]}=r,i=s[a];if(y(r))return((typeof i=="boolean"?i?r.o:r.r:j(t,r,i))||"").replace(D,i);let l=o.length?w(e,o,i):i;return(""+(l!=null?l:"")).trim()}).join(""),p=(n,t,e,s)=>{let r=s[0],a=r&&typeof r=="object"&&r.constructor===Object,o=s.length===1&&a?r:s;return E(n,t,e,o)};var P=(n,t)=>n[t]||(n[t]=x(t));var h=(n,t)=>{let e={},s=new Intl.PluralRules(n);return(r,...a)=>p(P(e,r),s,t,a)};function F(n,t,e={}){return A(t,h(n,e))}var B=(n={},t)=>typeof n=="string"?t.bind(null,n):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),n),A=(n,t)=>new Proxy(B(n,t),{get:(e,s)=>s===Symbol.iterator?[][Symbol.iterator].bind(Object.values(e).map(r=>B(r,t))):A(e[s],t)});var V=(n,t={})=>{let e=f(),s=f(c()),r=z(e,(i,l)=>l(i)),a=new Proxy({},{get:(i,l)=>l==="subscribe"?s.subscribe:s[l]});return{locale:r,LL:a,setLocale:i=>{e.set(i),s.set(F(i,n[i],t[i]))}}};export{V as initI18nSvelte};
