var P=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var p=(t,e,n)=>(P(t,e,"read from private field"),n?n.call(t):e.get(t)),d=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},y=(t,e,n,s)=>(P(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n);var u=()=>new Proxy(Object.assign(()=>"",{}),{get:(t,e)=>e==="length"?0:u()});var E=t=>Object.fromEntries(Object.entries(t).map(([e,n])=>e!=="i"&&n&&n!="0"&&[e,n]).filter(Boolean)),j=t=>Object.fromEntries(Object.keys(t).map(e=>{let n=t[e];return[e,Array.isArray(n)?n.map(s=>s==null?void 0:s.trim()):n===!!n?n:n==null?void 0:n.trim()]})),z=t=>{let[e="",...n]=t.split("|"),[s="",r]=e.split(":"),[a,i]=s.split("?");return{k:a,i:r,n:i==="",f:n}},A=t=>!!(t.o||t.r),O=(t,e)=>{let[n,s]=t.split(":");s||(s=n,n=e);let r=s.split("|"),[a,i,o,l,C,h]=r,c=r.filter(D=>D!==void 0).length;return c===1?{k:n,r:a}:c===2?{k:n,o:a,r:i}:c===3?{k:n,z:a,o:i,r:o}:{k:n,z:a,o:i,t:o,f:l,m:C,r:h}},f=/^\{.*\}$/,F=t=>Object.fromEntries(m(t).split(",").map(e=>e.split(":")).reduce((e,n)=>n.length===2?[...e,n.map(s=>s.trim())]:(e[e.length-1][1]+=","+n[0],e),[])),B=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,m=t=>t.substring(1,t.length-1),L=(t,e=!0,n="",s="")=>t.split(B).map(r=>{if(!r.match(B))return r;let a=m(r);if(a.startsWith("{"))return O(m(a),s);let i=z(a);return s=i.k||s,!n&&(n=s),i}).map(r=>{if(typeof r=="string")return r;r.k||(r.k=n||"0");let a=j(r);return e?E(a):a});var I=(t,e,n)=>e.reduce((s,r)=>{var a,i;return(i=r.match(f)?(o=>{var l;return(l=o[s])!=null?l:o["*"]})(F(r)):(a=t[r])==null?void 0:a.call(t,s))!=null?i:s},n),M=(t,{z:e,o:n,t:s,f:r,m:a,r:i},o)=>{switch(e&&o==0?"zero":t.select(o)){case"zero":return e;case"one":return n;case"two":return s;case"few":return r;case"many":return a;default:return i}},G=/\?\?/g,_=(t,e,n,s)=>t.map(r=>{if(typeof r=="string")return r;let{k:a="0",f:i=[]}=r,o=s[a];if(A(r))return((typeof o=="boolean"?o?r.o:r.r:M(e,r,o))||"").replace(G,o);let l=i.length?I(n,i,o):o;return(""+(l!=null?l:"")).trim()}).join(""),x=(t,e,n,s)=>{let r=s[0],a=r&&typeof r=="object"&&r.constructor===Object,i=s.length===1&&a?r:s;return _(t,e,n,i)};var b=(t,e)=>t[e]||(t[e]=L(e));var v=(t,e)=>{let n={},s=new Intl.PluralRules(t);return(r,...a)=>x(b(n,r),s,e,a)};function R(t,e,n={}){return S(e,v(t,n))}var k=(t={},e)=>typeof t=="string"?e.bind(null,t):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),t),S=(t,e)=>new Proxy(k(t,e),{get:(n,s)=>s===Symbol.iterator?[][Symbol.iterator].bind(Object.values(n).map(r=>k(r,e))):S(n[s],e)});var $=t=>new Proxy(t,{get:(e,n)=>!(e===t&&n==="then")&&t[n]}),T,g,w=class{constructor(e,n){this.translations=e;this.formatters=n;d(this,T,null);d(this,g,$(u()))}get locale(){return p(this,T)}get LL(){return p(this,g)}setLocale(e){y(this,T,e),y(this,g,$(R(e,this.translations[e],this.formatters[e])))}};T=new WeakMap,g=new WeakMap;export{w as I18nServiceRoot};
